# Makefile for SIL library top directory
#
#   very top SIL directory

##################### LIBRARIES ########################
#
# DIRS:
# This is an ordered list
# Put only the directories that build object files in the list

# make all targets
DIRS = src

#################### PLATFORM DEFINITIONS ############

all: silall

################################ MAKE RULES #################################
#

clean: silclean

superclean: silsuperclean

distclean: sildistclean

install: silinstall

uninstall: siluninstall


doc:
	DOXY_UTIL=/usr/share/yumapro/util doxygen /usr/share/yumapro/util/Doxyfile.sil
	@echo ""
	@echo "Documentation created in $(PWD)/output directory"
	@echo "file://$(PWD)/output/html/index.html"
	@echo ""
	@echo "Run 'make opendoc' to open the doxygen documentation in the default browser"

opendoc:
	xdg-open file://$(PWD)/output/html/index.html

silall:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) && cd ..;\
        done

silclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) clean && cd ..;\
        done

silsuperclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) superclean && cd ..;\
        done

sildistclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) distclean && cd ..;\
        done

silinstall:
	for dir in $(DIRS); do\
          cd $$dir && $(MAKE) install && cd ..;\
        done

siluninstall:
	for dir in $(DIRS); do\
          cd $$dir && $(MAKE) uninstall && cd ..;\
        done


.PHONY: all clean superclean install distclean sildistclean \
	silall silclean silsuperclean silinstall siluninstall doc opendoc


# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:
